const history = require('./history');
const statistics = require('./statistics');
const floor2Digits = require('./util').floor2Digits;
const express = require('express');
const app = express();

const target_profit = 3;

const kospi50_arr = [{name : 'KB금융', symbol : '43413'}, {name : 'KT', symbol : '43507'}, {name : 'KT&G', symbol : '43480'}, {name : 'LG', symbol : '43508'}, {name : 'LG Electronics', symbol : '43348'}, {name : 'LG디스플레이', symbol : '43463'}, {name : 'LG생활건강', symbol : '43521'}, {name : 'LG유플러스', symbol : '43492'}, {name : 'LG화학', symbol : '43424'}, {name : 'S-oil', symbol : '43473'}, {name : 'SK Telecom', symbol : '43472'}, {name : 'SK그룹', symbol : '43520'}, {name : 'SK이노베이션', symbol : '43404'}, {name : 'SK하이닉스', symbol : '43430'}, {name : 'Woori Financial', symbol : '1131302'}, {name : '강원랜드', symbol : '43422'}, {name : '고려아연', symbol : '43381'}, {name : '기아차', symbol : '43460'}, {name : '기업은행', symbol : '43542'}, {name : '네이버 주식회사', symbol : '43493'}, {name : '넷마블', symbol : '1010663'}, {name : '롯데쇼핑', symbol : '43383'}, {name : '롯데케미칼', symbol : '43374'}, {name : '삼성SDI', symbol : '43450'}, {name : '삼성물산', symbol : '43477'}, {name : '삼성바이오로직스', symbol : '993256'}, {name : '삼성생명', symbol : '43428'}, {name : '삼성에스디에스', symbol : '948394'}, {name : '삼성전기', symbol : '43350'}, {name : '삼성전자', symbol : '43433'}, {name : '삼성화재해상보험', symbol : '43370'}, {name : '셀트리온', symbol : '979618'}, {name : '신한지주', symbol : '43453'}, {name : '아모레G', symbol : '43443'}, {name : '아모레퍼시픽', symbol : '43416'}, {name : '엔씨소프트', symbol : '43448'}, {name : '이마트', symbol : '44089'}, {name : '카카오', symbol : '979247'}, {name : '코웨이', symbol : '43524'}, {name : '포스코', symbol : '43531'}, {name : '하나금융지주', symbol : '43378'}, {name : '한국전력', symbol : '43525'}, {name : '한국타이어', symbol : '44101'}, {name : '한미사이언스', symbol : '43783'}, {name : '현대건설', symbol : '43371'}, {name : '현대글로비스', symbol : '43379'}, {name : '현대모비스', symbol : '43398'}, {name : '현대제철', symbol : '43400'}, {name : '현대중공업', symbol : '43541'}, {name : '현대차', symbol : '43399'}];
const krx100_arr = [{name : 'BGF', symbol : '940988'}, {name : 'BNK 금융그룹', symbol : '43414'}, {name : 'CJ CGV', symbol : '43992'}, {name : 'CJ ENM', symbol : '979248'}, {name : 'CJ 그룹', symbol : '43499'}, {name : 'CJ대한통운', symbol : '43377'}, {name : 'CJ제일제당', symbol : '43376'}, {name : 'GKL', symbol : '44066'}, {name : 'GS 그룹', symbol : '43497'}, {name : 'GS리테일', symbol : '43751'}, {name : 'Hyundai Robotics', symbol : '1010641'}, {name : 'JYP Ent.', symbol : '979251'}, {name : 'KB금융', symbol : '43413'}, {name : 'KCC', symbol : '43537'}, {name : 'KT', symbol : '43507'}, {name : 'KT&G', symbol : '43480'}, {name : 'LG', symbol : '43508'}, {name : 'LG Electronics', symbol : '43348'}, {name : 'LG디스플레이', symbol : '43463'}, {name : 'LG생활건강', symbol : '43521'}, {name : 'LG유플러스', symbol : '43492'}, {name : 'LG이노텍', symbol : '43465'}, {name : 'LG화학', symbol : '43424'}, {name : 'Lotte', symbol : '43454'}, {name : 'OCI', symbol : '43469'}, {name : 'Posco Chemical', symbol : '979031'}, {name : 'S-oil', symbol : '43473'}, {name : 'SK Telecom', symbol : '43472'}, {name : 'SK그룹', symbol : '43520'}, {name : 'SK머티리얼즈', symbol : '979264'}, {name : 'SK이노베이션', symbol : '43404'}, {name : 'SK하이닉스', symbol : '43430'}, {name : 'Woori Financial', symbol : '1131302'}, {name : '강원랜드', symbol : '43422'}, {name : '고려아연', symbol : '43381'}, {name : '고영', symbol : '979813'}, {name : '금호석유', symbol : '43347'}, {name : '기아차', symbol : '43460'}, {name : '기업은행', symbol : '43542'}, {name : '네이버 주식회사', symbol : '43493'}, {name : '녹십자', symbol : '43503'}, {name : '농심', symbol : '43494'}, {name : '대림산업', symbol : '43456'}, {name : '대한 유화', symbol : '43533'}, {name : '동부화재', symbol : '43455'}, {name : '롯데케미칼', symbol : '43374'}, {name : '메디톡스', symbol : '979729'}, {name : '메리츠종금증권', symbol : '43775'}, {name : '미래에셋대우', symbol : '43441'}, {name : '삼성SDI', symbol : '43450'}, {name : '삼성물산', symbol : '43477'}, {name : '삼성생명', symbol : '43428'}, {name : '삼성에스디에스', symbol : '948394'}, {name : '삼성전기', symbol : '43350'}, {name : '삼성전자', symbol : '43433'}, {name : '삼성증권', symbol : '43407'}, {name : '삼성카드', symbol : '43427'}, {name : '삼성화재해상보험', symbol : '43370'}, {name : '셀트리온', symbol : '979618'}, {name : '신세계', symbol : '43484'}, {name : '신한지주', symbol : '43453'}, {name : '아모레G', symbol : '43443'}, {name : '아모레퍼시픽', symbol : '43416'}, {name : '에스에프에이', symbol : '979505'}, {name : '에스원', symbol : '43495'}, {name : '엔씨소프트', symbol : '43448'}, {name : '영원무역', symbol : '44065'}, {name : '오뚜기', symbol : '43518'}, {name : '오리온', symbol : '1031094'}, {name : '유한양행', symbol : '43532'}, {name : '이마트', symbol : '44089'}, {name : '제일기획', symbol : '43352'}, {name : '카카오', symbol : '979247'}, {name : '컴투스', symbol : '979666'}, {name : '코스맥스', symbol : '940989'}, {name : '코웨이', symbol : '43524'}, {name : '키움증권', symbol : '43955'}, {name : '포스코', symbol : '43531'}, {name : '포스코 대우', symbol : '43535'}, {name : '하나금융지주', symbol : '43378'}, {name : '한국전력', symbol : '43525'}, {name : '한국콜마', symbol : '44102'}, {name : '한국타이어', symbol : '44101'}, {name : '한국투자금융지주', symbol : '43540'}, {name : '한국항공우주', symbol : '43962'}, {name : '한미사이언스', symbol : '43783'}, {name : '한미약품', symbol : '43440'}, {name : '한샘', symbol : '43791'}, {name : '한온시스템', symbol : '43346'}, {name : '한전KPS', symbol : '43964'}, {name : '한화케미칼', symbol : '43457'}, {name : '현대건설', symbol : '43371'}, {name : '현대글로비스', symbol : '43379'}, {name : '현대모비스', symbol : '43398'}, {name : '현대백화점', symbol : '43372'}, {name : '현대제철', symbol : '43400'}, {name : '현대중공업', symbol : '43541'}, {name : '현대차', symbol : '43399'}, {name : '현대해상', symbol : '43590'}, {name : '효성', symbol : '43506'}];
const kb_kstar_etf_arr = [{name : 'KB KSTAR KOSPI 200', symbol : '953389'}, {name : 'KB KSTAR Short-term MSB', symbol : '953392'}, {name : 'KB KBSTAR KOSDAQ150 ETF', symbol : '1031343'}, {name : 'KB KBSTAR Short-term KTB Active', symbol : '1031354'}, {name : 'KB KBSTAR KRX300', symbol : '1073393'}, {name : 'KB KSTAR Credit Bond', symbol : '953382'}, {name : 'KB KBSTAR F-KOSDAQ150 Inverse', symbol : '1031351'}, {name : 'KB KSTAR Top5 Group', symbol : '953394'}, {name : 'KB KBSTAR Mid Small Cap High Dividend', symbol : '1055055'}, {name : 'KB KBSTAR 200 Heavy Industries', symbol : '1056438'}, {name : 'KB KSTAR Korea Treasury Bond', symbol : '953387'}, {name : 'KB KBSTAR 200 Constructions', symbol : '1057214'}, {name : 'KB KSTAR Prime Industry', symbol : '953391'}, {name : 'KB KBSTAR 200 Energy & Chemicals', symbol : '1056436'}, {name : 'KB KBSTAR 200 Steels & Materials', symbol : '1056439'}, {name : 'KB KSTAR Fixed Income Balanced-Derivatives', symbol : '953385'}, {name : 'KB KBSTAR High Dividend', symbol : '1014024'}, {name : 'KB KBSTAR KTB 10Y Futures', symbol : '1077028'}, {name : 'KB KSTAR Exporter Equity', symbol : '953384'}, {name : 'KB KBSTAR KQ High Dividend', symbol : '1031346'}, {name : 'KB KBSTAR Holding Company', symbol : '1056174'}, {name : 'KB KBSTAR 200 Information Technology', symbol : '1056437'}, {name : 'KB KBSTAR 200 Consumer Staples', symbol : '1057215'}, {name : 'KB KBStar Game Industry', symbol : '1089768'}, {name : 'KB KBSTAR 200 Industrials', symbol : '1057213'}, {name : 'KB KBSTAR KTB 3Y Futures Inverse', symbol : '1055118'}, {name : 'KB KBSTAR KTB 10Y Futures Inverse', symbol : '1077031'}, {name : 'KB KSTAR Equity Balanced Equity-Derivatives ', symbol : '953383'}, {name : 'KB KBStar KOSPI', symbol : '1089767'}, {name : 'KB KBSTAR KQ Momentum Value', symbol : '1089538'}, {name : 'KB KBSTAR Mid-Small Cap Momentum LowVol', symbol : '1089537'}, {name : 'KB KBSTAR Mid-Small Cap Momentum Value', symbol : '1089536'}, {name : 'KB KBSTAR KQ Momentum LowVol', symbol : '1089535'}, {name : 'KB KBSTAR ESG SRI', symbol : '1072257'}, {name : 'KB KBSTAR 200 Financials', symbol : '1056435'}, {name : 'KB KBSTAR 200 Consumer Discretionary', symbol : '1057216'}, {name : 'KB KBSTAR China H Futures Inverse', symbol : '1073352'}, {name : 'KB KSTAR Japan Leverage (H)', symbol : '953386'}, {name : 'KB KSTAR Synth-US Oil Gas EP Compa', symbol : '956468'}, {name : 'KB KBSTAR China H-Share Hedged', symbol : '997384'}, {name : 'KB KBSTAR US Treasury Long Bond Futures', symbol : '1014032'}, {name : 'KB KBSTAR US Treasury Long Bond Futures Inverse', symbol : '1014033'}, {name : 'KB KBSTAR US Treasury Long Bond Futures Leverage S', symbol : '1014034'}, {name : 'KB KBSTAR US Treasury Long Bond Futures Inverse 2X', symbol : '1014035'}, {name : 'KB KSTAR China Mainland CSI100 Feeder', symbol : '953381'}];
const kospi100_kosdaq100_arr = [{name:'필룩스',symbol :'43938'}
,{name:'동방',symbol:'43681'}
,{name:'쌍방울쌍방울',symbol:'44057'}
,{name:'디아이씨디아이',symbol:'44040'}
,{name:'코아스코아스코아',symbol:'43984'}
,{name:'위지트위지트위',symbol:'979255'}
,{name:'남영비비안남영비비',symbol:'43610'}
,{name:'대영포장대',symbol:'43850'}
,{name:'모베이스전자모베',symbol:'979083'}
,{name:'인터파크홀딩스인',symbol:'979239'}
,{name:'엔케이엔케이',symbol:'44027'}
,{name:'서울식품',symbol:'43688'}
,{name:'주성엔지니어링',symbol:'979274'}
,{name:'수산중공업',symbol:'43884'}
,{name:'방림',symbol:'43665'}
,{name:'삼성전자',symbol:'43433'}
,{name:'TIGER차이나CSI300레버리',symbol:'941243'}
,{name:'덕양산업',symbol:'43914'}
,{name:'이아이디',symbol:'44045'}
,{name:'삼성중공업',symbol:'43366'}
,{name:'동양물산',symbol:'43643'}
,{name:'대한항공',symbol:'43514'}
,{name:'시노펙스',symbol:'979160'}
,{name:'SK증권',symbol:'43594'}
,{name:'케이씨티시',symbol:'43785'}
,{name:'삼성제약',symbol:'43586'}
,{name:'한화생명',symbol:'43446'}
,{name:'KTH',symbol:'979254'}
,{name:'SG충방',symbol:'43587'}
,{name:'대우건설',symbol:'43536'}
,{name:'PN풍년',symbol:'979157'}
,{name:'대성엘텍',symbol:'979161'}
,{name:'대한해운',symbol:'43731'}
,{name:'대명코퍼레이션',symbol:'979056'}
,{name:'카스',symbol:'979102'}
,{name:'KEC',symbol:'44041'}
,{name:'일신석재',symbol:'43752'}
,{name:'한솔테크닉스',symbol:'43442'}
,{name:'HMM',symbol:'43365'}
,{name:'에넥스',symbol:'43817'}
,{name:'이화공영',symbol:'979027'}
,{name:'AlukoCoLtd',symbol:'43603'}
,{name:'한솔로지스틱스',symbol:'43788'}
,{name:'종근당바이오',symbol:'43974'}
,{name:'골든브릿지증권',symbol:'43584'}
,{name:'포스코ICT',symbol:'979134'}
,{name:'기아자동차',symbol:'43460'}
,{name:'형지IC0',symbol:'979065'}
,{name:'삼부토건',symbol:'43592'}
,{name:'대경기계',symbol:'43868'}
,{name:'형지엘리트',symbol:'44046'}
,{name:'오리엔트바이오',symbol:'43632'}
,{name:'한창',symbol:'43709'}
,{name:'광림',symbol:'979088'}
,{name:'YGPLUS',symbol:'43951'}
,{name:'LG디스플레이',symbol:'43463'}
,{name:'백광산업',symbol:'43585'}
,{name:'SK하이닉스',symbol:'43430'}
,{name:'NI스틸',symbol:'43770'}
,{name:'한솔홈데코',symbol:'43918'}
,{name:'피에스엠씨',symbol:'979154'}
,{name:'경보제약',symbol:'955775'}
,{name:'유니크',symbol:'979078'}
,{name:'한농화성',symbol:'43826'}
,{name:'영화금속',symbol:'43836'}
,{name:'두산인프라코어',symbol:'43501'}
,{name:'대웅',symbol:'43650'}
,{name:'태평양물산',symbol:'43766'}
,{name:'SG세계물산',symbol:'43676'}
,{name:'LG유플러스',symbol:'43492'}
,{name:'신성이엔지',symbol:'43831'}
,{name:'일성건설',symbol:'43844'}
,{name:'LG전자',symbol:'43348'}
,{name:'대한전선',symbol:'43369'}
,{name:'KoreaElectricPowerCorp',symbol:'43525'}
,{name:'명문제약',symbol:'43881'}
,{name:'티웨이홀딩스',symbol:'43699'}
,{name:'성우하이텍',symbol:'979096'}
,{name:'엠벤처투자',symbol:'979122'}
,{name:'IHQ',symbol:'43663'}
,{name:'이지바이오',symbol:'979249'}
,{name:'아가방컴퍼니',symbol:'979092'}
,{name:'종근당',symbol:'50597'}
,{name:'현대자동차',symbol:'43399'}
,{name:'신한지주',symbol:'43453'}
,{name:'파라다이스',symbol:'979234'}
,{name:'한화솔루션',symbol:'43457'}
,{name:'두산중공업',symbol:'43544'}
,{name:'이수화학',symbol:'43410'}
,{name:'미래아이앤지',symbol:'43753'}
,{name:'이월드',symbol:'44025'}
,{name:'SBI인베스트먼트',symbol:'979120'}
,{name:'현대로템',symbol:'50596'}
,{name:'세종텔레콤',symbol:'979269'}
,{name:'금호에이치티',symbol:'961707'}
,{name:'PanOceanCoLtd',symbol:'43405'}
,{name:'한화투자증권',symbol:'43661'}
,{name:'성안',symbol:'43822'}
,{name:'서연이화',symbol:'940990'}
,{name:'SFA반도체',symbol:'979266'}
,{name:'대창',symbol:'43842'}
,{name:'강원랜드',symbol:'43422'}
,{name:'삼성물산',symbol:'43477'}
,{name:'CamusEngineering',symbol:'43847'}
,{name:'기업은행',symbol:'43542'}
,{name:'삼성전자우',symbol:'951042'}
,{name:'롯데손해보험',symbol:'43557'}
,{name:'SH에너지화학',symbol:'43622'}
,{name:'KTcs',symbol:'43972'}
,{name:'코리아나',symbol:'979176'}
,{name:'예림당',symbol:'979252'}
,{name:'미래에셋대우',symbol:'43441'}
,{name:'에이프로젠제약',symbol:'43647'}
,{name:'대한광통신',symbol:'979071'}
,{name:'현대약품',symbol:'43685'}
,{name:'롯데관광개발',symbol:'43936'}
,{name:'메리츠종금증권',symbol:'43775'}
,{name:'경농',symbol:'43611'}
,{name:'"유니셈',symbol:'979260'}
,{name:'하나투어',symbol:'43954'}
,{name:'국동',symbol:'43712'}
,{name:'TCC스틸',symbol:'43634'}
,{name:'한국종합기술',symbol:'43904'}
,{name:'윌비스',symbol:'43776'}
,{name:'보령제약',symbol:'43673'}
,{name:'보해양조',symbol:'43570'}
,{name:'부광약품',symbol:'43393'}
,{name:'포스코엠텍',symbol:'979070'}
,{name:'DB하이텍',symbol:'43419'}
,{name:'흥국',symbol:'979072'}
,{name:'동신건설',symbol:'979167'}
,{name:'우리종합금융',symbol:'43805'}
,{name:'에이프로젠KIC',symbol:'43758'}
,{name:'대동공업',symbol:'43559'}
,{name:'인터지스',symbol:'44079'}
,{name:'대원전선',symbol:'43741'}
,{name:'KB금융',symbol:'43413'}
,{name:'하나금융지주',symbol:'43378'}
,{name:'코맥스',symbol:'979286'}
,{name:'써니전자',symbol:'43696'}
,{name:'삼성전기',symbol:'43350'}
,{name:'BNK금융그룹',symbol:'43414'}
,{name:'제주항공',symbol:'960821'}
,{name:'삼성엔지니어링',symbol:'43435'}
,{name:'CJCGV',symbol:'43992'}
,{name:'그랜드코리아레저-GKL',symbol:'44066'}
,{name:'이엔쓰리',symbol:'43988'}
,{name:'대덕전자',symbol:'43434'}
,{name:'코스모신소재',symbol:'43708'}
,{name:'네이버주식회사',symbol:'43493'}
,{name:'호텔신라',symbol:'43780'}
,{name:'뉴인텍',symbol:'979081'}
,{name:'범양건영',symbol:'43624'}
,{name:'신풍제약',symbol:'43892'}
,{name:'동국제강',symbol:'43368'}
,{name:'서희건설',symbol:'979250'}
,{name:'대우부품',symbol:'43795'}
,{name:'엘컴텍',symbol:'979292'}
,{name:'이스타코',symbol:'43862'}
,{name:'맥쿼리한국인프라투융자회사',symbol:'44029'}
,{name:'영진약품',symbol:'43660'}
,{name:'한국토지신탁',symbol:'979236'}
,{name:'유니슨',symbol:'979110'}
,{name:'한화손해보험',symbol:'43555'}
,{name:'한국프린지',symbol:'43806'}
,{name:'그린케미칼',symbol:'44016'}
,{name:'케이씨피드',symbol:'979165'}
,{name:'SK이노베이션',symbol:'43404'}
,{name:'남해화학',symbol:'43355'}
,{name:'삼영화학',symbol:'43670'}
,{name:'대양금속',symbol:'43789'}
,{name:'대주산업',symbol:'979030'}
,{name:'한창제지',symbol:'43799'}
,{name:'아남전자',symbol:'43777'}
,{name:'신풍제지',symbol:'43641'}
,{name:'후성',symbol:'43502'}
,{name:'벽산',symbol:'43756'}
,{name:'인스코비',symbol:'43744'}
,{name:'마니커',symbol:'43925'}
,{name:'동성제약',symbol:'43616'}
,{name:'현대건설',symbol:'43371'}
,{name:'만도',symbol:'942445'}
,{name:'오리엔탈정공',symbol:'979090'}
,{name:'삼아알미늄',symbol:'43738'}
,{name:'경인양행',symbol:'43840'}
,{name:'하이트진로',symbol:'43458'}
,{name:'진원생명과학',symbol:'43816'}
,{name:'다우인큐브',symbol:'43897'}
,{name:'에스제이엠',symbol:'44076'}
,{name:'성문전자',symbol:'43860'}
,{name:'유진투자증권',symbol:'43579'}
,{name:'한온시스템',symbol:'43346'}
,{name:'녹십자홀딩스',symbol:'43711'}
,{name:'KT',symbol:'43507'}
,{name:'세종공업',symbol:'43471'}
,{name:'남선알미늄',symbol:'43771'}
,{name:'현대위아',symbol:'43447'}
,{name:'삼보산업',symbol:'979061'}
,{name:'콤텍시스템',symbol:'43935'}
,{name:'삼천리자전거',symbol:'979158'}
,{name:'삼화페인트',symbol:'43556'}
,{name:'삼화전기',symbol:'43800'}
,{name:'아티스',symbol:'44054'}
,{name:'현대제철',symbol:'43400'}
,{name:'티에이치엔',symbol:'43893'}
,{name:'신세계건설',symbol:'43943'}
,{name:'아난티',symbol:'979168'}
,{name:'지엠비코리아',symbol:'43848'}
,{name:'한탑',symbol:'979044'}
,{name:'삼일',symbol:'979201'}
,{name:'NH투자증권',symbol:'43545'}
,{name:'쌍용양회',symbol:'43392'}
,{name:'SK그룹',symbol:'43520'}
,{name:'동진쎄미켐',symbol:'979037'}
,{name:'"대성미생물',symbol:'979263'}
,{name:'동양철관',symbol:'43784'}
,{name:'바른테크놀로지',symbol:'979184'}
,{name:'태림포장',symbol:'43821'}
,{name:'코웰패션',symbol:'979222'}
,{name:'케이탑리츠',symbol:'44093'}
,{name:'넥센타이어',symbol:'43468'}
,{name:'삼성생명',symbol:'43428'}
,{name:'신원',symbol:'43792'}
,{name:'파미셀',symbol:'43470'}
,{name:'팜스토리',symbol:'979178'}
,{name:'남성',symbol:'43684'}
,{name:'문배철강',symbol:'43772'}
,{name:'팜스코',symbol:'43950'}
,{name:'동양생명',symbol:'44010'}
,{name:'S-oil',symbol:'43473'}
,{name:'UCICoLtd',symbol:'979295'}
,{name:'국영지앤엠',symbol:'979045'}
,{name:'엘브이엠씨홀딩스',symbol:'955778'}
,{name:'서연탑메탈',symbol:'979124'}
,{name:'한국조선해양',symbol:'43541'}
,{name:'서한',symbol:'979079'}
,{name:'SK네트웍스',symbol:'43439'}
,{name:'조비',symbol:'43596'}
,{name:'인지디스플레',symbol:'979275'}
,{name:'신라섬유',symbol:'979024'}
,{name:'라이브파이낸셜',symbol:'979257'}
,{name:'종근당',symbol:'43417'}
,{name:'한국가스공사',symbol:'43527'}
,{name:'일진머티리얼즈',symbol:'43354'}
,{name:'태양금속',symbol:'43679'}
,{name:'KR모터스',symbol:'43547'}
,{name:'신성통상',symbol:'43714'}
,{name:'코스모화학',symbol:'43715'}
,{name:'무림',symbol:'43467'}
,{name:'현대모비스',symbol:'43398'}
,{name:'JYPEnt.',symbol:'979251'}
,{name:'한일사료',symbol:'979040'}
,{name:'카카오',symbol:'979247'}
,{name:'그랜드백화점',symbol:'979117'}
,{name:'세하',symbol:'43926'}
,{name:'현대미포조선',symbol:'43362'}
,{name:'대상',symbol:'43500'}
,{name:'에프에스티',symbol:'979287'}
,{name:'엠케이전자',symbol:'979218'}
,{name:'JB금융지주',symbol:'44106'}
,{name:'DGB금융지주',symbol:'44087'}
,{name:'세우글로벌',symbol:'43843'}
,{name:'에이티넘인베스트',symbol:'979130'}
,{name:'유니켐',symbol:'43823'}
,{name:'LG화학',symbol:'43424'}
,{name:'부방',symbol:'979093'}
,{name:'디아이',symbol:'43652'}
,{name:'대유에이텍',symbol:'43642'}
,{name:'유니퀘스트',symbol:'43990'}
,{name:'원익홀딩스',symbol:'979190'}
,{name:'한국카본',symbol:'43888'}
,{name:'한미반도체',symbol:'43957'}
,{name:'GS글로벌',symbol:'43581'}
,{name:'포스코대우',symbol:'43535'}
,{name:'보락',symbol:'43636'}
,{name:'두산엔진',symbol:'43395'}
,{name:'아즈텍WB',symbol:'979199'}
,{name:'제일기획',symbol:'43352'}
,{name:'유한양행',symbol:'43532'}
,{name:'DongbuSteelCoLtd',symbol:'43420'}
,{name:'고려포리머',symbol:'43802'}
,{name:'부산주공',symbol:'43707'}
,{name:'영풍제지',symbol:'43747'}
,{name:'진성티이씨',symbol:'979288'}
,{name:'평화산업',symbol:'44031'}
,{name:'스페코',symbol:'979085'}
,{name:'아진산업',symbol:'979076'}
,{name:'한화에어로스페이스',symbol:'43356'}
,{name:'우신시스템',symbol:'43882'}
,{name:'케이티스',symbol:'43973'}
,{name:'신일전자',symbol:'43633'}
,{name:'광전자',symbol:'43886'}
,{name:'AK홀딩스',symbol:'43748'}
,{name:'동부아이앤씨',symbol:'43832'}
,{name:'네이처셀',symbol:'979066'}
,{name:'우성사료',symbol:'43750'}
,{name:'제주은행',symbol:'43740'}
,{name:'시공테크',symbol:'979128'}
,{name:'세화아이엠씨',symbol:'948395'}
,{name:'YuantaSecKor',symbol:'43659'}
,{name:'화승알앤에이',symbol:'43845'}
,{name:'대원강업',symbol:'43418'}
,{name:'KG이니시스',symbol:'979244'}
,{name:'KC코트렐',symbol:'44071'}
,{name:'자화전자',symbol:'43939'}
,{name:'한익스프레스',symbol:'43849'}
,{name:'와이비로드',symbol:'43810'}
,{name:'우리들휴브레인',symbol:'44069'}
,{name:'디피씨',symbol:'43922'}
,{name:'유나이티드제약',symbol:'43941'}
,{name:'KT',symbol:'43480'}
,{name:'판타지오',symbol:'979209'}
,{name:'GS건설',symbol:'43522'}
,{name:'코오롱플라스틱',symbol:'44086'}
,{name:'HMC투자증권',symbol:'43593'}
,{name:'체시스',symbol:'43940'}
,{name:'사조동아원',symbol:'43489'}
,{name:'계양전기',symbol:'43835'}
,{name:'시그네틱스',symbol:'979219'}
,{name:'CJ그룹',symbol:'43499'}
,{name:'삼성에스디에스',symbol:'948394'}
,{name:'우리조명',symbol:'979279'}
,{name:'유니온머티리얼',symbol:'43961'}
,{name:'한국항공우주',symbol:'43962'}
,{name:'삼성SDI',symbol:'43450'}
,{name:'LG',symbol:'43508'}
,{name:'보성파워텍',symbol:'979048'}
,{name:'삼성공조',symbol:'43746'}
,{name:'삼륭물산',symbol:'979091'}
,{name:'인지컨트롤스',symbol:'43907'}
,{name:'참엔지니어링',symbol:'43794'}
,{name:'풍산',symbol:'43482'}
,{name:'서부T',symbol:'979042'}
,{name:'광명전기',symbol:'43880'}
,{name:'제이씨현시스템',symbol:'979224'}
,{name:'현대그린푸드',symbol:'43717'}
,{name:'넥스트사이언스',symbol:'43664'}
,{name:'에이치엘비',symbol:'979183'}
,{name:'청보산업',symbol:'979077'}
,{name:'한국전자홀딩스',symbol:'43739'}
,{name:'세방',symbol:'43686'}
,{name:'롯데하이마트',symbol:'43983'}
,{name:'갤럭시아SM',symbol:'43825'}
,{name:'페이퍼코리아',symbol:'43574'}
,{name:'한솔PNS',symbol:'43807'}
,{name:'서연',symbol:'43445'}
,{name:'동양기전',symbol:'43385'}
,{name:'상보',symbol:'979177'}
,{name:'루멘스',symbol:'979283'}
,{name:'네패스',symbol:'979231'}
,{name:'CJ씨푸드',symbol:'43818'}
,{name:'조일알미늄',symbol:'43889'}
,{name:'동화약품',symbol:'43546'}
,{name:'한국팩키지',symbol:'979290'}
,{name:'대성산업',symbol:'44078'}
,{name:'이구산업',symbol:'43919'}
,{name:'동화기업',symbol:'979166'}
,{name:'코오롱머티리얼',symbol:'44092'}
,{name:'레드캡투어',symbol:'979296'}
,{name:'한일단조',symbol:'979150'}
,{name:'GS그룹',symbol:'43497'}
,{name:'에스에이엠티',symbol:'979193'}
,{name:'현대에이치씨엔',symbol:'44077'}
,{name:'덕성',symbol:'43697'}
,{name:'CJ헬로비전',symbol:'43952'}
,{name:'일진홀딩스',symbol:'43869'}
,{name:'유성티엔에스',symbol:'979151'}
,{name:'대유플러스',symbol:'43552'}
,{name:'삼보판지',symbol:'979140'}
,{name:'큐캐피탈',symbol:'979100'}
,{name:'우진',symbol:'44061'}
,{name:'대웅제약',symbol:'43353'}
,{name:'잇츠한불',symbol:'962439'}
,{name:'삼화콘덴서',symbol:'43605'}
,{name:'심팩',symbol:'43787'}
,{name:'삼성증권',symbol:'43407'}
,{name:'한올바이오파마',symbol:'43351'}
,{name:'현대해상',symbol:'43590'}
,{name:'코웨이',symbol:'43524'}
,{name:'넥센',symbol:'43724'}
,{name:'동양',symbol:'43496'}
,{name:'삼지전자',symbol:'979291'}
,{name:'SKC',symbol:'43538'}
,{name:'서울전자통신',symbol:'979175'}
,{name:'화인베스틸',symbol:'940984'}
,{name:'이수페타시스',symbol:'43763'}
,{name:'고려제약',symbol:'979089'}
,{name:'사조씨푸드',symbol:'43857'}
,{name:'영흥철강',symbol:'43833'}
,{name:'한화',symbol:'43517'}
,{name:'유진기업',symbol:'979137'}
,{name:'광동제약',symbol:'43793'}
,{name:'세원셀론텍',symbol:'44039'}
,{name:'한국타이어',symbol:'44101'}
,{name:'한솔홀딩스',symbol:'43396'}
,{name:'일지테크',symbol:'979119'}
,{name:'서원',symbol:'43899'}
,{name:'EG',symbol:'979278'}
,{name:'솔브레인홀딩스',symbol:'979273'}
,{name:'제미니투자',symbol:'979121'}
,{name:'한라',symbol:'43858'}
,{name:'쌍용정보통신',symbol:'979063'}
,{name:'KTB투자증권',symbol:'43929'}
,{name:'환인제약',symbol:'43874'}
,{name:'백광소재',symbol:'43855'}
,{name:'특수건설',symbol:'979170'}
,{name:'대우조선해양',symbol:'43436'}
,{name:'일진디스플',symbol:'43401'}
,{name:'티비씨',symbol:'979233'}
,{name:'금호타이어',symbol:'43462'}
,{name:'모토닉',symbol:'43510'}
,{name:'원익큐브',symbol:'979087'}
,{name:'제이엠아이',symbol:'979214'}
,{name:'에스엠코어',symbol:'979052'}
,{name:'한국투자금융지주',symbol:'43540'}
,{name:'서린바이오',symbol:'979284'}
,{name:'대교',symbol:'43515'}
,{name:'오스템',symbol:'979195'}
,{name:'삼천당제약',symbol:'979022'}
,{name:'세진중공업',symbol:'962005'}
,{name:'동성화인텍',symbol:'979227'}
,{name:'신원종합개발',symbol:'979103'}
,{name:'세아베스틸',symbol:'43451'}
,{name:'이마트',symbol:'44089'}
,{name:'케이엠더블유',symbol:'979202'}
,{name:'포스코케미칼',symbol:'979031'}
,{name:'아모레퍼시픽',symbol:'43416'}
,{name:'비트컴퓨터',symbol:'979210'}
,{name:'고려산업',symbol:'43612'}
,{name:'아모레퍼시픽그룹',symbol:'43443'}
,{name:'오리콤',symbol:'979054'}
,{name:'갑을메탈',symbol:'979153'}
,{name:'OCI',symbol:'43469'}
,{name:'아이마켓코리아',symbol:'44074'}
,{name:'BarunsonEntertainment',symbol:'979246'}
,{name:'다우기술',symbol:'43906'}
,{name:'한미사이언스',symbol:'43783'}
,{name:'대신정보통신',symbol:'979126'}
,{name:'화승인더스트리',symbol:'43736'}
,{name:'Hot-TechCoLtd',symbol:'43867'}
,{name:'동부증권',symbol:'43876'}
,{name:'웅진씽크빅',symbol:'44048'}
,{name:'성창기업지주',symbol:'43549'}
,{name:'HDCHoldingsCoLtd',symbol:'43387'}
,{name:'흥국화재',symbol:'43562'}
,{name:'SK텔레콤',symbol:'43472'}
,{name:'코리안리재보험',symbol:'43669'}
,{name:'솔본',symbol:'979245'}
,{name:'F',symbol:'43764'}
,{name:'모나미',symbol:'43713'}
,{name:'심텍홀딩스',symbol:'979271'}
,{name:'락앤락',symbol:'43425'}
,{name:'디지틀조선',symbol:'979217'}
,{name:'퍼스텍',symbol:'43814'}
,{name:'휠라코리아',symbol:'44004'}
,{name:'GS리테일',symbol:'43751'}
,{name:'화신',symbol:'43505'}
,{name:'한국선재',symbol:'979162'}
,{name:'노루페인트',symbol:'44032'}
,{name:'메리츠화재',symbol:'43548'}
,{name:'녹십자셀',symbol:'979194'}
,{name:'주연테크',symbol:'43958'}
,{name:'"코엔텍',symbol:'979185'}
,{name:'금호산업',symbol:'43645'}
,{name:'코오롱인더스트리',symbol:'43485'}
,{name:'한국콜마',symbol:'44102'}
,{name:'현대엘리베이터',symbol:'43415'}
,{name:'바이온',symbol:'979213'}
,{name:'경창산업',symbol:'979156'}
,{name:'대성창투',symbol:'979179'}
,{name:'대현',symbol:'43871'}
,{name:'상신브레이크',symbol:'43956'}
,{name:'제일테크노스',symbol:'979282'}
,{name:'한세실업',symbol:'43479'}
,{name:'포스코',symbol:'43531'}
,{name:'인터엠',symbol:'979104'}
,{name:'JW중외제약',symbol:'43575'}
,{name:'에이블씨엔씨',symbol:'43487'}
,{name:'현대글로비스',symbol:'43379'}
,{name:'삼성출판사',symbol:'43976'}
,{name:'LF',symbol:'43464'}
,{name:'송원산업',symbol:'43412'}
,{name:'한국캐피탈',symbol:'979141'}
,{name:'글로본',symbol:'979123'}
,{name:'LG이노텍',symbol:'43465'}
,{name:'제이콘텐트리',symbol:'979262'}
,{name:'율촌화학',symbol:'43779'}
,{name:'일양약품',symbol:'43421'}
,{name:'현대차2우B',symbol:'951041'}
,{name:'소프트센',symbol:'979206'}
,{name:'미래에셋생명',symbol:'955954'}
,{name:'세이브존I',symbol:'43975'}
,{name:'조아제약',symbol:'979237'}
,{name:'베트남개발1',symbol:'955769'}
,{name:'BGF',symbol:'940988'}
,{name:'LG상사',symbol:'43512'}
,{name:'동원금속',symbol:'43890'}
,{name:'코리아써키트',symbol:'43765'}
,{name:'녹십자',symbol:'43503'}
,{name:'한국화장품',symbol:'44075'}
,{name:'좋은사람들',symbol:'979225'}
,{name:'CJENMCoLtd',symbol:'979248'}
,{name:'카프로',symbol:'43523'}
,{name:'삼일기업공사',symbol:'979043'}
,{name:'롯데쇼핑',symbol:'43383'}
,{name:'흥구석유',symbol:'979147'}
,{name:'씨에스윈드',symbol:'942842'}
,{name:'한국철강',symbol:'43526'}
,{name:'동일고무벨트',symbol:'44103'}
,{name:'유비케어',symbol:'979205'}
,{name:'에쓰씨엔지니어링',symbol:'43909'}
,{name:'깨끗한나라',symbol:'43690'}
,{name:'청호컴넷',symbol:'43839'}
,{name:'VTGMP',symbol:'979112'}
,{name:'롯데케미칼',symbol:'43374'}
,{name:'도화엔지니어링',symbol:'43613'}
,{name:'금호석유화학',symbol:'43347'}
,{name:'드래곤플라이',symbol:'979188'}
,{name:'우리들제약',symbol:'43694'}
,{name:'삼호',symbol:'43606'}
,{name:'LotteCorp',symbol:'43454'}
,{name:'다우데이타',symbol:'979200'}
,{name:'한국알콜',symbol:'979109'}
,{name:'플레이위드',symbol:'979142'}
,{name:'대호피앤씨',symbol:'979129'}
,{name:'쎄니트',symbol:'979281'}
,{name:'안국약품',symbol:'979025'}
,{name:'유성기업',symbol:'43644'}
,{name:'삼익악기',symbol:'43626'}
,{name:'한국콜마홀딩스',symbol:'43912'}
,{name:'진도',symbol:'44028'}
,{name:'AJ렌터카',symbol:'43977'}
,{name:'신세계',symbol:'43484'}
,{name:'대양제지',symbol:'979047'}
,{name:'엔피씨',symbol:'43683'}
,{name:'영원무역',symbol:'44065'}
,{name:'한국주철관',symbol:'43573'}
,{name:'아이즈비전',symbol:'979192'}
,{name:'애경유화',symbol:'44100'}
,{name:'S선도전기',symbol:'43761'}
,{name:'한섬',symbol:'43490'}
,{name:'메이슨캐피탈',symbol:'979133'}
,{name:'에스엘',symbol:'43511'}
,{name:'풍국주정',symbol:'979145'}
,{name:'성광벤드',symbol:'979094'}
,{name:'LS',symbol:'43509'}
,{name:'모나리자',symbol:'43841'}
,{name:'JW홀딩스',symbol:'44049'}
,{name:'한글과컴퓨터',symbol:'979189'}
,{name:'국보',symbol:'43578'}
,{name:'현대비앤지스틸',symbol:'43691'}
,{name:'세방전지',symbol:'43386'}
,{name:'교보증권',symbol:'43930'}
,{name:'우진비앤지',symbol:'979114'}
,{name:'금양',symbol:'43598'}
,{name:'LS네트웍스',symbol:'43565'}
,{name:'바른손',symbol:'979116'}
,{name:'현대백화점',symbol:'43372'}
,{name:'동양네트웍스',symbol:'43932'}
,{name:'성신양회',symbol:'43705'}
,{name:'국제약품',symbol:'43635'}
,{name:'이건산업',symbol:'43769'}
,{name:'삼원강재',symbol:'43902'}
,{name:'CJ제일제당',symbol:'43376'}
,{name:'화천기계',symbol:'43812'}
,{name:'바이오스마트',symbol:'979297'}
,{name:'미래산업',symbol:'43916'}
,{name:'키움증권',symbol:'43955'}
,{name:'메타랩스',symbol:'44033'}
,{name:'무학',symbol:'43529'}
,{name:'일진전기',symbol:'43380'}
,{name:'STX중공업',symbol:'43985'}
,{name:'태경케미컬',symbol:'43749'}
,{name:'동원개발',symbol:'979075'}
,{name:'푸드웰',symbol:'979038'}
,{name:'한전산업',symbol:'44080'}
,{name:'코스맥스',symbol:'940989'}
,{name:'한일철강',symbol:'43617'}
,{name:'디케이디앤아이',symbol:'979223'}
,{name:'오리온',symbol:'43530'}
,{name:'CNH',symbol:'979139'}
,{name:'파라텍',symbol:'979228'}
,{name:'신일제약',symbol:'979073'}
,{name:'삼화전자',symbol:'43820'}
,{name:'정산애강',symbol:'979135'}
,{name:'한전KPS',symbol:'43964'}
,{name:'NICE평가정보',symbol:'979186'}
,{name:'SCI평가정보',symbol:'979256'}
,{name:'휴켐스',symbol:'43504'}
,{name:'삼성카드',symbol:'43427'}
,{name:'메리츠금융지주',symbol:'44084'}
,{name:'케이피에프',symbol:'979155'}
,{name:'SJM홀딩스',symbol:'43915'}
,{name:'NHN엔터테인먼트',symbol:'44108'}
,{name:'한진칼',symbol:'44107'}
,{name:'대호에이엘',symbol:'43978'}
,{name:'한미글로벌',symbol:'43967'}
,{name:'현대EP',symbol:'44030'}
,{name:'삼성화재해상보험',symbol:'43370'}
,{name:'에이엔피',symbol:'43864'}
,{name:'백산',symbol:'43947'}
,{name:'인디에프',symbol:'43861'}
,{name:'대신증권',symbol:'43662'}
,{name:'코콤',symbol:'979095'}
,{name:'신세계인터내셔날',symbol:'43933'}
,{name:'아비코전자',symbol:'979253'}
,{name:'풀무원홀딩스',symbol:'43885'}
,{name:'태광',symbol:'979136'}
,{name:'무림페이퍼',symbol:'43790'}
,{name:'한국전력기술',symbol:'43486'}
,{name:'동아에스텍',symbol:'43971'}
,{name:'대륙제관',symbol:'979035'}
,{name:'엔에스엔',symbol:'979196'}
,{name:'대상홀딩스',symbol:'44026'}
,{name:'SK디스커버리',symbol:'43358'}
,{name:'토니모리',symbol:'955955'}
,{name:'무림SP',symbol:'979026'}
,{name:'일진다이아몬드',symbol:'44000'}
,{name:'한진중공업홀딩스',symbol:'43478'}
,{name:'동원시스템즈',symbol:'43859'}
,{name:'진흥기업',symbol:'43637'}
,{name:'한국내화',symbol:'43804'}
,{name:'한솔제지',symbol:'945187'}
,{name:'한진중공업',symbol:'43373'}
,{name:'선진',symbol:'44083'}
,{name:'경동제약',symbol:'979064'}
,{name:'현대리바트',symbol:'43993'}
,{name:'동서',symbol:'979174'}
,{name:'동부화재해상보험',symbol:'43455'}
,{name:'S',symbol:'43483'}
,{name:'LS산전',symbol:'43476'}
,{name:'한국테크놀로지그룹',symbol:'43363'}
,{name:'대림',symbol:'976229'}
,{name:'에코플라스틱',symbol:'979293'}
,{name:'휴비스',symbol:'43995'}
,{name:'부국철강',symbol:'43923'}
,{name:'해성산업',symbol:'979235'}
,{name:'계룡건설',symbol:'43846'}
,{name:'모헨즈',symbol:'979049'}
,{name:'SK디앤디',symbol:'955774'}
,{name:'대림제지',symbol:'979107'}
,{name:'대한제강',symbol:'44023'}
,{name:'KG케미칼',symbol:'43588'}
,{name:'성도이엔지',symbol:'979277'}
,{name:'SBS',symbol:'43543'}
,{name:'원익',symbol:'979211'}
,{name:'태영건설',symbol:'43796'}
,{name:'코오롱글로벌',symbol:'43648'}
,{name:'ST중공업',symbol:'43426'}
,{name:'진양산업',symbol:'43671'}
,{name:'코데즈컴바인',symbol:'979020'}
,{name:'DSR',symbol:'44097'}
,{name:'와이지-원',symbol:'979118'}
,{name:'대원화성',symbol:'43913'}
,{name:'KC그린홀딩스',symbol:'43797'}
,{name:'금강공업',symbol:'43851'}
,{name:'삼호개발',symbol:'43815'}
,{name:'텔코웨어',symbol:'43991'}
,{name:'황금에스티',symbol:'43937'}
,{name:'삼진제약',symbol:'43719'}
,{name:'롯데칠성음료',symbol:'43388'}
,{name:'동국산업',symbol:'979036'}
,{name:'동아지질',symbol:'43927'}
,{name:'모아텍',symbol:'979220'}
,{name:'프럼파스트',symbol:'979240'}
,{name:'제이준코스메틱',symbol:'43917'}
,{name:'양지사',symbol:'979191'}
,{name:'매일유업',symbol:'979041'}
,{name:'한미약품',symbol:'43440'}
,{name:'HyosungCorp',symbol:'43506'}
,{name:'한신기계',symbol:'43828'}
,{name:'더존비즈온',symbol:'43838'}
,{name:'동성코퍼레이션',symbol:'44056'}
,{name:'남광토건',symbol:'43582'}
,{name:'DSR제강',symbol:'43980'}
,{name:'한국큐빅',symbol:'979132'}
,{name:'사조오양',symbol:'43737'}
,{name:'케이티스카이라이프',symbol:'43966'}
,{name:'나이스정보통신',symbol:'979272'}
,{name:'LIG넥스원',symbol:'959129'}
,{name:'웅진홀딩스',symbol:'43879'}
,{name:'유유제약',symbol:'43550'}
,{name:'위스컴',symbol:'43910'}
,{name:'휴니드',symbol:'43730'}
,{name:'"한국ANKOR유전',symbol:'955772'}
,{name:'세명전기',symbol:'979106'}
,{name:'아이에스동서',symbol:'43459'}
,{name:'대원제약',symbol:'43654'}
,{name:'하이트론',symbol:'43896'}
,{name:'이연제약',symbol:'44058'}
,{name:'동일기연',symbol:'979212'}
,{name:'평화홀딩스',symbol:'43813'}
,{name:'진양화학',symbol:'43965'}
,{name:'와이오엠',symbol:'979021'}
,{name:'제룡전기',symbol:'979215'}
,{name:'KCI',symbol:'979285'}
,{name:'한라홀딩스',symbol:'43528'}
,{name:'이노션',symbol:'958363'}
,{name:'리드코프',symbol:'979082'}
,{name:'한국주강',symbol:'43921'}
,{name:'삼일제약',symbol:'43561'}
,{name:'롯데정밀화학',symbol:'43364'}
,{name:'동부건설',symbol:'43733'}
,{name:'삼진',symbol:'979207'}
,{name:'SBS미디어홀딩스',symbol:'44053'}
,{name:'엔씨소프트',symbol:'43448'}
,{name:'한국특수형강',symbol:'43757'}
,{name:'버추얼텍',symbol:'979268'}
,{name:'두산',symbol:'43516'}
,{name:'광진실업',symbol:'979173'}
,{name:'피제이전자',symbol:'979046'}
,{name:'고려제강',symbol:'43491'}
,{name:'케이씨텍',symbol:'43928'}
,{name:'원풍물산',symbol:'979068'}
,{name:'만호제강',symbol:'43577'}
,{name:'KSS해운',symbol:'43959'}
,{name:'LG하우시스',symbol:'43402'}
,{name:'고려아연',symbol:'43381'}
,{name:'HRS',symbol:'979270'}
,{name:'KCC',symbol:'43537'}
,{name:'한독',symbol:'43623'}
,{name:'유니온',symbol:'43571'}
,{name:'인성정보',symbol:'979221'}
,{name:'AJ네트웍스',symbol:'959130'}
,{name:'코오롱',symbol:'43461'}
,{name:'하이록코리아',symbol:'979074'}
,{name:'화성산업',symbol:'43627'}
,{name:'하이트진로홀딩스',symbol:'43375'}
,{name:'한성기업',symbol:'43668'}
,{name:'현대상사',symbol:'43830'}
,{name:'MiraeassetmapsAsiaPacificRE1Investment',symbol:'955768'}
,{name:'대한유화',symbol:'43533'}
,{name:'한양증권',symbol:'43601'}
,{name:'동일제강',symbol:'959127'}
,{name:'피델릭스',symbol:'979204'}
,{name:'CJ대한통운',symbol:'43377'}
,{name:'진양폴리',symbol:'43811'}
,{name:'기신정기',symbol:'44043'}
,{name:'한국패러랠',symbol:'955773'}
,{name:'한진',symbol:'43621'}
,{name:'대창단조',symbol:'43863'}
,{name:'서흥캅셀',symbol:'43773'}
,{name:'삼광글라스',symbol:'43384'}
,{name:'사조산업',symbol:'43754'}
,{name:'진양제약',symbol:'979051'}
,{name:'동국실업',symbol:'43599'}
,{name:'미래에셋맵스프런티어브라질pan></td></tr>',symbol:'955776'}
,{name:'삼영전자',symbol:'43723'}
,{name:'크라운제과',symbol:'43725'}
,{name:'한샘',symbol:'43791'}
,{name:'아세아제지',symbol:'43620'}
,{name:'한국가구',symbol:'979033'}
,{name:'파세코',symbol:'979289'}
,{name:'진양홀딩스',symbol:'44051'}
,{name:'한국단자공업',symbol:'43406'}
,{name:'에스원',symbol:'43495'}
,{name:'혜인',symbol:'43646'}
,{name:'한국공항',symbol:'43716'}
,{name:'기산텔레콤',symbol:'979242'}
,{name:'삼현철강',symbol:'979105'}
,{name:'영풍정밀',symbol:'979267'}
,{name:'조광페인트',symbol:'43701'}
,{name:'삼양식품',symbol:'43655'}
,{name:'우진플라임',symbol:'43963'}
,{name:'KCC건설',symbol:'979131'}
,{name:'농심',symbol:'43494'}
,{name:'포스코강판',symbol:'43969'}
,{name:'티비에이치글로벌',symbol:'43361'}
,{name:'경방',symbol:'43481'}
,{name:'신세계푸드',symbol:'43934'}
,{name:'엠에스씨',symbol:'979062'}
,{name:'가온전선',symbol:'43560'}
,{name:'금호전기',symbol:'43580'}
,{name:'경동나비엔',symbol:'43798'}
,{name:'한국화장품제조',symbol:'43657'}
,{name:'대동기어',symbol:'979059'}
,{name:'유엔젤',symbol:'43986'}
,{name:'동원수산',symbol:'43931'}
,{name:'삼영무역',symbol:'43638'}
,{name:'부스타',symbol:'979058'}
,{name:'SPC삼립',symbol:'43721'}
,{name:'아주캐피탈',symbol:'43942'}
,{name:'삼익THK',symbol:'43687'}
,{name:'수출포장',symbol:'43615'}
,{name:'Citech',symbol:'43702'}
,{name:'한솔케미칼',symbol:'43856'}
,{name:'삼양홀딩스',symbol:'43429'}
,{name:'삼양사',symbol:'44094'}
,{name:'디티알오토모티브',symbol:'43444'}
,{name:'대성홀딩스',symbol:'43877'}
,{name:'영보화학',symbol:'43853'}
,{name:'희림',symbol:'979280'}
,{name:'효성ITX',symbol:'44047'}
,{name:'동아쏘시오홀딩스',symbol:'43437'}
,{name:'한신공영',symbol:'43703'}
,{name:'신라에스지',symbol:'979164'}
,{name:'리더스코스메틱',symbol:'979097'}
,{name:'STX엔진',symbol:'43474'}
,{name:'SK머티리얼즈',symbol:'979264'}
,{name:'극동유화',symbol:'43854'}
,{name:'현대코퍼레이션홀딩스',symbol:'960822'}
,{name:'KB오토시스',symbol:'979148'}
,{name:'코스맥스',symbol:'43960'}
,{name:'영신금속',symbol:'979055'}
,{name:'제일파마홀딩스',symbol:'43631'}
,{name:'HDC아이콘트롤스',symbol:'959128'}
,{name:'DRB동일',symbol:'43698'}
,{name:'피에스텍',symbol:'979028'}
,{name:'STX',symbol:'43539'}
,{name:'서울제약',symbol:'979115'}
,{name:'노루홀딩스',symbol:'43553'}
,{name:'강남젭스코',symbol:'43569'}
,{name:'신라교역',symbol:'43704'}
,{name:'휴맥스홀딩스',symbol:'979181'}
,{name:'엠케이트렌드',symbol:'43979'}
,{name:'신도리코',symbol:'43519'}
,{name:'블루콤',symbol:'979229'}
,{name:'태원물산',symbol:'43589'}
,{name:'에이리츠',symbol:'44091'}
,{name:'한세예스24홀딩스',symbol:'43873'}
,{name:'현대홈쇼핑',symbol:'43968'}
,{name:'일동제약',symbol:'43551'}
,{name:'대한약품',symbol:'979146'}
,{name:'마크로젠',symbol:'979294'}
,{name:'현대시멘트',symbol:'43743'}
,{name:'TJ미디어',symbol:'979203'}
,{name:'원일특강',symbol:'979084'}
,{name:'키스코홀딩스',symbol:'43607'}
,{name:'MH에탄올',symbol:'43903'}
,{name:'GⅡR',symbol:'43946'}
,{name:'삼목에스폼',symbol:'979113'}
,{name:'동성화학',symbol:'43710'}
,{name:'동아에스티',symbol:'44104'}
,{name:'하이골드3호',symbol:'44096'}
,{name:'유니드',symbol:'43534'}
,{name:'LG생활건강',symbol:'43521'}
,{name:'대원산업',symbol:'979039'}
,{name:'동일철강',symbol:'979143'}
,{name:'신송홀딩스',symbol:'50595'}
,{name:'창해에탄올',symbol:'979034'}
,{name:'GS홈쇼핑',symbol:'979182'}
,{name:'피에스케이',symbol:'979197'}
,{name:'비상교육',symbol:'44050'}
,{name:'대림B',symbol:'43726'}
,{name:'에너토크',symbol:'979125'}
,{name:'신대양제지',symbol:'43875'}
,{name:'휴스틸',symbol:'43706'}
,{name:'전방',symbol:'43572'}
,{name:'아트라스BX',symbol:'979144'}
,{name:'빙그레',symbol:'43488'}
,{name:'태경물산',symbol:'43870'}
,{name:'대성에너지',symbol:'44067'}
,{name:'NICE',symbol:'43944'}
,{name:'SK가스',symbol:'43891'}
,{name:'한국정보통신',symbol:'979163'}
,{name:'영원무역홀딩스',symbol:'43803'}
,{name:'인팩',symbol:'43908'}
,{name:'삼아제약',symbol:'979060'}
,{name:'원풍',symbol:'979057'}
,{name:'중앙에너비스',symbol:'979023'}
,{name:'S',symbol:'44052'}
,{name:'유수홀딩스',symbol:'43452'}
,{name:'하이골드12호',symbol:'44105'}
,{name:'유화증권',symbol:'43658'}
,{name:'선광',symbol:'979029'}
,{name:'"세보엠이씨',symbol:'979080'}
,{name:'대구백화점',symbol:'43742'}
,{name:'RomansonCoLtd',symbol:'979169'}
,{name:'대동전자',symbol:'43768'}
,{name:'국도화학',symbol:'43382'}
,{name:'대한제분',symbol:'43367'}
,{name:'ST홀딩스',symbol:'43949'}
,{name:'동일방직',symbol:'43595'}
,{name:'동방아그로',symbol:'43760'}
,{name:'농심홀딩스',symbol:'43987'}
,{name:'성보화학',symbol:'43649'}
,{name:'세아특수강',symbol:'43895'}
,{name:'부국증권',symbol:'43583'}
,{name:'한일홀딩스',symbol:'43409'}
,{name:'E1E',symbol:'43887'}
,{name:'한국지역난방공사',symbol:'43982'}
,{name:'사조대림',symbol:'43675'}
,{name:'푸른저축은행',symbol:'979050'}
,{name:'제이에스코퍼레이션',symbol:'969143'}
,{name:'풍산홀딩스',symbol:'43728'}
,{name:'동원F&B',symbol:'43394'}
,{name:'샘표식품',symbol:'43759'}
,{name:'경인전자',symbol:'43786'}
,{name:'하이스틸',symbol:'43981'}
,{name:'신화실업',symbol:'43602'}
,{name:'한국기업평가',symbol:'979238'}
,{name:'제일연마',symbol:'43597'}
,{name:'한국석유공업',symbol:'43678'}
,{name:'신영증권',symbol:'43600'}
,{name:'선창산업',symbol:'43639'}
,{name:'신세계I&C',symbol:'43948'}
,{name:'일신방직',symbol:'43653'}
,{name:'부산산업',symbol:'43824'}
,{name:'삼천리',symbol:'43692'}
,{name:'오뚜기',symbol:'43518'}
,{name:'이테크건설',symbol:'979099'}
,{name:'한일화학',symbol:'979067'}
,{name:'새론오토모티브',symbol:'43989'}
,{name:'동양고속',symbol:'44024'}
,{name:'아세아시멘트',symbol:'44482'}
,{name:'KPX케미칼',symbol:'43423'}
,{name:'롯데푸드',symbol:'43466'}
,{name:'KPX홀딩스',symbol:'44042'}
,{name:'진로발효',symbol:'979111'}
,{name:'조선선재',symbol:'44072'}
,{name:'대한제당',symbol:'43604'}
,{name:'삼양통상',symbol:'43614'}
,{name:'화천기공',symbol:'43568'}
,{name:'팀스',symbol:'44082'}
,{name:'쿠쿠홀딩스',symbol:'940985'}
,{name:'금화피에스시',symbol:'979259'}
,{name:'동원산업',symbol:'43735'}
,{name:'BYC',symbol:'43591'}
,{name:'디씨엠',symbol:'43911'}
,{name:'CS홀딩스',symbol:'43563'}
,{name:'대한화섬',symbol:'43672'}
,{name:'대림통상',symbol:'43745'}
,{name:'예스코',symbol:'43866'}
,{name:'아세아',symbol:'43609'}
,{name:'신영와코루',symbol:'43727'}
,{name:'신흥',symbol:'43677'}
,{name:'세아제강',symbol:'43357'}
,{name:'금비',symbol:'43781'}
,{name:'한국쉘석유',symbol:'43390'}
,{name:'조광피혁',symbol:'43693'}
,{name:'광주신세계',symbol:'43953'}
,{name:'일성신약',symbol:'43651'}
,{name:'삼정펄프',symbol:'43801'}
,{name:'남양유업',symbol:'43403'}
,{name:'동남합성',symbol:'43905'}
,{name:'경동가스',symbol:'43837'}
,{name:'일정실업',symbol:'43774'}
,{name:'조선내화',symbol:'43389'}
,{name:'인천도시가스',symbol:'43945'}
,{name:'태광산업',symbol:'43431'}
,{name:'영풍',symbol:'43475'}
,{name:'대동금속',symbol:'979127'}
,{name:'미원화학',symbol:'44081'}
,{name:'부산도시가스',symbol:'43865'}
,{name:'천일고속',symbol:'43564'}
,{name:'서울도시가스',symbol:'43883'}
,{name:'미원상사',symbol:'43640'}
,{name:'대한방직',symbol:'43576'}
,{name:'삼화왕관',symbol:'43689'}
,{name:'원림',symbol:'43729'}
,{name:'미원에스씨',symbol:'44062'}
,{name:'에이스침대',symbol:'979032'}
,{name:'동일산업',symbol:'43700'}
,{name:'바다로19호',symbol:'44098'}
,{name:'세아홀딩스',symbol:'43970'}
,{name:'미창석유',symbol:'43667'}
,{name:'퍼시스',symbol:'43878'}
,{name:'이화산업',symbol:'43566'}
,{name:'조흥',symbol:'43630'}
,{name:'웅진에너지',symbol:'43349'}
,{name:'쌍용자동차',symbol:'43359'}
,{name:'대림산업',symbol:'43456'}
,{name:'한국제지',symbol:'43619'}
,{name:'세기상사',symbol:'43625'}
,{name:'흥아해운',symbol:'43656'}
,{name:'고려개발',symbol:'43682'}
,{name:'신한',symbol:'43718'}
,{name:'폴루스바이오팜',symbol:'43762'}
,{name:'지코',symbol:'43809'}
,{name:'두산건설',symbol:'43819'}
,{name:'유양디앤유',symbol:'43827'}
,{name:'키위미디어그룹',symbol:'43834'}
,{name:'아시아나항공',symbol:'43898'}
,{name:'세원정공',symbol:'43900'}
,{name:'한화갤러리아타임월드',symbol:'43924'}
,{name:'사조해표',symbol:'43994'}
,{name:'동북아12호',symbol:'44013'}
,{name:'동북아13호',symbol:'44014'}
,{name:'케이지피',symbol:'44063'}
,{name:'하이골드8호',symbol:'44099'}
,{name:'"하나니켈1호',symbol:'955770'}
,{name:'"하나니켈2호',symbol:'955771'}
,{name:'코리아오토글라스',symbol:'962438'}
,{name:'코센',symbol:'979053'}
,{name:'행남사',symbol:'979069'}
,{name:'보령메디앙스',symbol:'979086'}
,{name:'포비스티앤씨',symbol:'979101'}
,{name:'데코앤이',symbol:'979108'}
,{name:'세원물산',symbol:'979152'}
,{name:'Park&OPCLtd',symbol:'979180'}
,{name:'KaheeCoLtd',symbol:'979187'}
,{name:'엠젠플러스',symbol:'979208'}
,{name:'이디',symbol:'979216'}
,{name:'KoreaResourcesInvestment&amp',symbol:'979226'}
,{name:'에이코넬',symbol:'979230'}
,{name:'SeohwaInc',symbol:'979232'}
,{name:'A1NInc',symbol:'979241'}
,{name:'마제스타',symbol:'979243'}
,{name:'영인프런티어',symbol:'979258'}
,{name:'WellMadeYedangCoLtd',symbol:'979261'}]


const isDev = process.env.PORT ? true : false;

let webString = "데이터 준비중입니다.";
let date = new Date();

const getIssueObject = async (name, symbol, from_time) => {
    return new Promise(async (resolve, reject) => {
        let history_obj = await history.getHistory(symbol, from_time, Date.now());
        let history_arr = history.transferObjToArr(history_obj);
        history_arr = history.calcMovingAverage25(history_arr);
        history_arr = history.calcDifferenceRate(history_arr);

        history_arr = statistics.calcCeilDifferenceRate(history_arr);
        
        let issue_obj = {};
        
        issue_obj.name = name;
        issue_obj.price = history_arr[history_arr.length-1].close_price;
        issue_obj.ma25 = history_arr[history_arr.length-1].ma25;
        issue_obj.difference_rate = history_arr[history_arr.length-1].difference_rate;
        issue_obj.ceiled_difference_rate = history_arr[history_arr.length-1].ceiled_difference_rate;
        issue_obj.in_3_days = statistics.calcNdaySuccessRate(history_arr, 3, target_profit);
        issue_obj.in_3_days.profit_rate = statistics.calcNdayProfitRate(history_arr, 3);
        issue_obj.in_5_days = statistics.calcNdaySuccessRate(history_arr, 5, target_profit);
        issue_obj.in_5_days.profit_rate = statistics.calcNdayProfitRate(history_arr, 5);
        issue_obj.in_7_days = statistics.calcNdaySuccessRate(history_arr, 7, target_profit);
        issue_obj.in_7_days.profit_rate = statistics.calcNdayProfitRate(history_arr, 7);

        console.log(`종목/괴리율: ${issue_obj.name}/${floor2Digits(issue_obj.difference_rate)}%`);

        resolve(issue_obj);
    });
}

const main = async (stocks_arr) => {
    let issue_obj_arr = [];

    for(let i = 0; i < stocks_arr.length; i++) {
        issue_obj_arr.push(await getIssueObject(stocks_arr[i].name, stocks_arr[i].symbol, '1245660137'));
    }

    issue_obj_arr.sort((a, b) => {
        return a.difference_rate - b.difference_rate;
    })

    webString = '';

    for(let i = 0; i < issue_obj_arr.length; i++) {
        let issue_obj = issue_obj_arr[i];        
        if(isDev){
            console.log(`종목                : ${issue_obj.name}`);
            console.log(`현재가격           : ${issue_obj.price}`);
            console.log(`25일이동평균가격    : ${issue_obj.ma25}`);
            console.log(`현재괴리율         : ${floor2Digits(issue_obj.difference_rate)}%`);
            console.log(`3일내 ${target_profit}%상승    : ${issue_obj.in_3_days.success_count}%(+${floor2Digits(issue_obj.in_3_days.profit_rate)}%)`);
            console.log(`5일내 ${target_profit}%상승    : ${issue_obj.in_5_days.success_count}%(+${floor2Digits(issue_obj.in_5_days.profit_rate)}%)`);
            console.log(`7일내 ${target_profit}%상승    : ${issue_obj.in_7_days.success_count}%(+${floor2Digits(issue_obj.in_7_days.profit_rate)}%)`);
        }

        webString += `종목                : ${issue_obj.name}<br>`;
        webString += `현재가격           : ${issue_obj.price}<br>`;
        webString += `25일이동평균가격    : ${issue_obj.ma25}<br>`;
        webString += `현재괴리율         : ${floor2Digits(issue_obj.difference_rate)}%<br>`;
        webString += `3일내 ${target_profit}%상승    : ${issue_obj.in_3_days.success_count}%(+${floor2Digits(issue_obj.in_3_days.profit_rate)}%)<br>`;
        webString += `5일내 ${target_profit}%상승    : ${issue_obj.in_5_days.success_count}%(+${floor2Digits(issue_obj.in_5_days.profit_rate)}%)<br>`;
        webString += `7일내 ${target_profit}%상승    : ${issue_obj.in_7_days.success_count}%(+${floor2Digits(issue_obj.in_7_days.profit_rate)}%)<br><br>`;

    }
    if( isDev ){
        console.log(webString);
    }
    
    date = new Date();
    main(stocks_arr);
}

app.get('/', (req, res) => {
    res.send(`<meta name="viewport" content="width=device-width, initial-scale=1"> ${date}에 최신화되었습니다.<br>아래 데이터들은 괴리율을 기준으로 오름차순 정렬되어있습니다.<br>` + webString);
});
const server = app.listen(process.env.PORT || 3000, () => { 
    console.log('Server is running!');
});

/* Prevent Sleep in Heroku Server */
var http = require(process.env.PORT ?"https":"http");
try{
    http.get(process.env.PORT ? "https://like-bnf.herokuapp.com":"http://localhost:3000");
}catch(e){
    console.error(e);
}

setInterval(function () {
    try {
        console.log("setInterval.");
        http.get(process.env.PORT ? "https://like-bnf.herokuapp.com":"http://localhost:3000");    
    } catch (e) {
        console.error(e);
    }
    
}, 600000); // every 10 minutes
 
main(kospi100_kosdaq100_arr);